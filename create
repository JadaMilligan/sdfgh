create database test;

use test;

CREATE TABLE TEAM_T (
TeamID NUMERIC(3) NOT NULL, 
Section NUMERIC(1) NOT NULL, 
Letter CHAR(1) NOT NULL,
TLID NUMERIC(4) NOT NULL,
TeamLeaderName VARCHAR(25) NOT NULL, 
  CONSTRAINT PK_TEAM_T PRIMARY KEY (TeamID));
  
CREATE TABLE SECTION1_T (
SectionNum  NUMERIC(1) NOT NULL,
StudentID NUMERIC(4) NOT NULL,
StudentName VARCHAR(25) NOT NULL,
Letter CHAR(1) NOT NULL,
Email VARCHAR(50),
Year VARCHAR(25) NOT NULL,
TeamID NUMERIC(3) NOT NULL,
CONSTRAINT PK_SECTION1_T PRIMARY KEY (SectionNum));
       
CREATE TABLE SECTION2_T (
SectionNum NUMERIC(1) NOT NULL,
StudentID NUMERIC(4) NOT NULL,
StudentName VARCHAR(25) NOT NULL,
Letter CHAR(1) NOT NULL,
Email VARCHAR(50),
Year VARCHAR(25) NOT NULL,
TeamID NUMERIC(3) NOT NULL,
CONSTRAINT PK_SECTION2_T PRIMARY KEY (SectionNum));

CREATE TABLE SECTION3_T (
SectionNum NUMERIC(1) NOT NULL,
StudentID NUMERIC(4) NOT NULL,
StudentName VARCHAR(25) NOT NULL,
Letter CHAR(1) NOT NULL,
Email VARCHAR(50),
Year VARCHAR(25) NOT NULL,
TeamID NUMERIC(3) NOT NULL,
CONSTRAINT PK_SECTION3_T PRIMARY KEY (SectionNum));

CREATE TABLE STUDENT_T (
StudentID NUMERIC(4) NOT NULL,
StudentName VARCHAR(25) NOT NULL,
Email VARCHAR(50),
TLID NUMERIC(4) NOT NULL,
Major VARCHAR(25) NOT NULL,
CONSTRAINT PK_STUDENT_T PRIMARY KEY (StudentID));

CREATE TABLE ATTENDANCE8_25_T (
ZoomName VARCHAR(25) NOT NULL,
StudentID NUMERIC(4) NOT NULL,
Minutes INT NOT NULL,
CONSTRAINT PK_ATTENDANCE8_25_T PRIMARY KEY (ZoomName));

CREATE TABLE ATTENDANCE9_22_T (
ZoomName VARCHAR(25) NOT NULL,
StudentID NUMERIC(4) NOT NULL,
Minutes INT NOT NULL,
CONSTRAINT PK_ATTENDANCE9_22_T PRIMARY KEY (ZoomName));

CREATE TABLE TLAPPLICATION_T (
ApplicantID NUMERIC(3) NOT NULL, 
StudentID NUMERIC(4) NOT NULL,
StudentName VARCHAR(25) NOT NULL,
Section NUMERIC(1) NOT NULL,
Letter CHAR(1) NOT NULL,
Email VARCHAR(50), 
Major VARCHAR(25) NOT NULL,
Year VARCHAR(25) NOT NULL,
CONSTRAINT PK_TLAPPLICATION_T PRIMARY KEY (ApplicantID));


ALTER TABLE STUDENT_T 
ADD FOREIGN KEY (TeamID) REFERENCES TEAM_T(TeamID);

ALTER TABLE SECTION1_T
ADD CONSTRAINT FK_SECTION1_StudentID FOREIGN KEY (StudentID)
REFERENCES STUDENT_T (StudentID)
ADD CONSTRAINT FK_SECTION1_Email FOREIGN KEY (Email)
REFERENCES STUDENT_T (Email)
ADD CONSTRAINT FK_SECTION1_TeamID FOREIGN KEY (TeamID)
REFERENCES TEAM_T (TeamID);

ALTER TABLE SECTION2_T
ADD CONSTRAINT FK_SECTION2_StudentID FOREIGN KEY (StudentID)
REFERENCES STUDENT_T (StudentID)
ADD CONSTRAINT FK_SECTION2_Email FOREIGN KEY (Email)
REFERENCES STUDENT_T (Email)
ADD CONSTRAINT FK_SECTION2_TeamID FOREIGN KEY (TeamID)
REFERENCES TEAM_T (TeamID);

ALTER TABLE SECTION3_T
ADD CONSTRAINT FK_SECTION3_StudentID FOREIGN KEY (StudentID)
REFERENCES STUDENT_T (StudentID)
ADD CONSTRAINT FK_SECTION3_Email FOREIGN KEY (Email)
REFERENCES STUDENT_T (Email)
ADD CONSTRAINT FK_SECTION3_TeamID FOREIGN KEY (TeamID)
REFERENCES TEAM_T (TeamID);

ALTER TABLE ATTENDANCE8_25_T
ADD CONSTRAINT FK_ATTENDANCE8_25_StudentID FOREIGN KEY (StudentID)
REFERENCES STUDENT_T (StudentID);

ALTER TABLE ATTENDANCE8_25_T
ADD CONSTRAINT FK_ATTENDANCE8_25_Email FOREIGN KEY (Email)
REFERENCES STUDENT_T (Email);

ALTER TABLE ATTENDANCE8_25_T
ADD CONSTRAINT FK_ATTENDANCE8_25_SectionNum FOREIGN KEY (SectionNum)
REFERENCES SECTION1_T (SectionNum);

ALTER TABLE ATTENDANCE8_25_T
ADD CONSTRAINT FK_ATTENDANCE8_25_SectionNum FOREIGN KEY (SectionNum)
REFERENCES SECTION2_T (SectionNum);

ALTER TABLE ATTENDANCE8_25_T
ADD FOREIGN KEY (SectionNum) REFERENCES SECTION3_T(SectionNum);
